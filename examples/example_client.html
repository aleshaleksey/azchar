<!DOCTYPE html>
<html lang="en">
<script type="text/javascript">
var text = 'send_request';

function send(button) {
   var buttonVal = button.name;
   var inbox = document.getElementById('input_' + buttonVal);
   var out = document.getElementById('out_' + buttonVal);
   var addressbox = document.getElementById('addr_' +buttonVal);
   var message = inbox.value;
   var address = addressbox.value;
   /// FETCH HATES ME. ARRGHH!!!!s
   fetch(
    address + "/" + "AZCHARREQUEST__" + message + "__ENDAZCHARREQUEST",{
    mode: 'no-cors' // 'cors' by default
  })
    .then((response) =>
      {
        response._bodyText// << This is the problem
      })
    .then((responseData) => { // responseData = undefined
        console.log("got content" + responseData);
     }).catch(function(err) {
        console.log("got err" + err);
      });

   console.log(message);

}
</script>
<!-- <textarea class="scrollabletextbox" name="input_a" id="input_a" rows=40, cols=80>
</textarea> -->
<style>
  .textarea_a {
    width: 350px;
    height: 150px;
  }
</style>
<style>
  .textarea_b {
    width: 250px;
    height: 30px;
  }
</style>
<input class="textarea_b" name="addr_a" id="addr_a"></input>
<input type="submit" name="a" value="click-me" onclick="send(this); return false;">
<p></p>
<textarea class="textarea_a" name="input_a" id="input_a"></textarea>
<p></p>
<textarea class="textarea_a" name="out_a" id="out_a"></textarea>
